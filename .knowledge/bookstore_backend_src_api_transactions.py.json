{"is_source_file": true, "format": "Python", "description": "This file defines API endpoints for managing financial transactions in a bookstore application. It includes CRUD operations (create, read, update, delete) for transactions, as well as summary statistics for current user's transactions, utilizing FastAPI, SQLAlchemy, and custom schemas.", "external_files": ["src/core/db", "src/core/security", "src/models/models", "src/schemas/transactions"], "external_methods": ["get_db", "get_current_user"], "published": ["list_transactions", "transactions_summary", "create_transaction", "update_transaction", "delete_transaction"], "classes": [], "methods": [{"name": "TransactionList list_transactions( skip: int = Query(0, ge=0, description=\"Number of records to skip\"), limit: int = Query(50, ge=1, le=100, description=\"Max number of records to return\"), db: Session = Depends(get_db), current_user: User = Depends(get_current_user), )", "description": "Lists transactions for the current user with pagination.", "scope": "", "scopeKind": ""}, {"name": "TransactionSummary transactions_summary( db: Session = Depends(get_db), current_user: User = Depends(get_current_user) )", "description": "Provides a summary (count and total amount) of the current user's transactions.", "scope": "", "scopeKind": ""}, {"name": "TransactionOut create_transaction( payload: TransactionCreate, db: Session = Depends(get_db), current_user: User = Depends(get_current_user), )", "description": "Creates a new transaction associated with the current user.", "scope": "", "scopeKind": ""}, {"name": "TransactionOut update_transaction( transaction_id: int, payload: TransactionUpdate, db: Session = Depends(get_db), current_user: User = Depends(get_current_user), )", "description": "Updates an existing transaction owned by the current user.", "scope": "", "scopeKind": ""}, {"name": "None delete_transaction( transaction_id: int, db: Session = Depends(get_db), current_user: User = Depends(get_current_user) )", "description": "Deletes a transaction owned by the current user.", "scope": "", "scopeKind": ""}], "calls": ["db.query", "db.add", "db.commit", "db.refresh", "db.delete", "func.count", "func.coalesce", "func.sum"], "search-terms": ["transactions_api", "transaction CRUD", "transaction list", "transactions summary", "current_user transactions", "bookstore backend", "FastAPI transactions"], "state": 2, "file_id": 12, "knowledge_revision": 28, "git_revision": "", "ctags": [{"_type": "tag", "name": "create_transaction", "path": "/home/kavia/workspace/code-generation/bookstore-transaction-manager-222071-222081/bookstore_backend/src/api/transactions.py", "pattern": "/^def create_transaction($/", "language": "Python", "typeref": "typename:TransactionOut", "kind": "function", "signature": "( payload: TransactionCreate, db: Session = Depends(get_db), current_user: User = Depends(get_current_user), )"}, {"_type": "tag", "name": "delete_transaction", "path": "/home/kavia/workspace/code-generation/bookstore-transaction-manager-222071-222081/bookstore_backend/src/api/transactions.py", "pattern": "/^def delete_transaction($/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "( transaction_id: int, db: Session = Depends(get_db), current_user: User = Depends(get_current_user) )"}, {"_type": "tag", "name": "list_transactions", "path": "/home/kavia/workspace/code-generation/bookstore-transaction-manager-222071-222081/bookstore_backend/src/api/transactions.py", "pattern": "/^def list_transactions($/", "language": "Python", "typeref": "typename:TransactionList", "kind": "function", "signature": "( skip: int = Query(0, ge=0, description=\"Number of records to skip\"), limit: int = Query(50, ge=1, le=100, description=\"Max number of records to return\"), db: Session = Depends(get_db), current_user: User = Depends(get_current_user), )"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/bookstore-transaction-manager-222071-222081/bookstore_backend/src/api/transactions.py", "pattern": "/^router = APIRouter(prefix=\"\\/transactions\", tags=[\"transactions\"])$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "transactions_summary", "path": "/home/kavia/workspace/code-generation/bookstore-transaction-manager-222071-222081/bookstore_backend/src/api/transactions.py", "pattern": "/^def transactions_summary($/", "language": "Python", "typeref": "typename:TransactionSummary", "kind": "function", "signature": "( db: Session = Depends(get_db), current_user: User = Depends(get_current_user) )"}, {"_type": "tag", "name": "update_transaction", "path": "/home/kavia/workspace/code-generation/bookstore-transaction-manager-222071-222081/bookstore_backend/src/api/transactions.py", "pattern": "/^def update_transaction($/", "language": "Python", "typeref": "typename:TransactionOut", "kind": "function", "signature": "( transaction_id: int, payload: TransactionUpdate, db: Session = Depends(get_db), current_user: User = Depends(get_current_user), )"}], "hash": "6dabcb826c88ff601d17e619b045e331", "format-version": 4, "code-base-name": "bookstore_backend", "filename": "bookstore_backend/src/api/transactions.py", "fields": [{"name": "router = APIRouter(prefix=\"\\/transactions\", tags=[\"transactions\"])", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"28": ""}]}